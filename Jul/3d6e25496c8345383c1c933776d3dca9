At least 28 inmates were killed when a brutal fight broke out in a prison in the Mexican Pacific resort of Acapulco on Thursday. This was deemed one of the worst outbreaks of violence in the country's troubled penal system in recent years. Acapulco is the biggest city in Guerrero, one of Mexico's most lawless states and a center of opium poppy production that has been a major concern to US officials. The prison carnage was particularly embarrassing to Mexico as it came the same day US Department of Homeland Security Secretary John Kelly was visiting Guerrero, in Mexico's southwest. Guerrero state security official Roberto Alvarez told reporters the fight broke out between rival gangs in the maximum-security wing of the prison. In addition to 28 dead, three people were injured, he said. Authorities found bodies throughout the wing, inside and outside the kitchen, as well as the area for conjugal visits, he said. A law enforcement official, speaking on condition of anonymity, told Reuters four of the dead were decapitated. Alvarez told Reuters the prison was close to 30 percent over capacity. It was built for 1,624 inmates but had 1,951 men and 110 women behind its walls, he said. Despite reports of gunfire in the prison, all the casualties were due to wounds from sharp instruments, such as the improvised weapons that are fashioned by inmates, Alvarez said. Violent crime in Mexico has jumped in recent months and 2017 is on track to be one of its bloodiest on record. The number of murder cases in the first five months of 2017 jumped nearly 30 percent and murder investigations hit a record high in May. Drug gangs have been battling for control amid a power vacuum following the January deportation of Sinaloa cartel boss Joaquin "El Chapo" Guzman to the United States. The United States and Mexico are discussing how to crack down on the cartels now that most of the established capos have been killed or captured in a decade-long, military-led campaign. Kelly, one of the main links between Mexico's government and the Trump administration on migration and security cooperation, arrived in Mexico on Wednesday and has held meetings with other top officials, including President Enrique Pena Nieto. He visited a military base outside Acapulco on Thursday to meet Mexico's army and navy chiefs. Kelly discussed the military's efforts to battle drug traffickers and observed the deployment of troops to destroy opium poppy fields, the defense ministry said in a statement. Acapulco, one of Mexico's most famous beach resorts, was once a playground for Hollywood stars but in recent years has been roiled by vicious gang warfare. It is now ranked one of the most murderous cities in the world. The past week has been particularly bloody in Mexico. On Wednesday, at least 14 people were killed in a shootout in the northern state of Chihuahua, while 17 suspected gang members were shot dead by police late on Friday near Mazatlan in Guzman's home state of Sinaloa. Thursday's fight is the worst outbreak of violence inside a Mexican prison since 49 people died early last year in a battle between members of the feared Zetas drug cartel and rivals at a prison in the northern industrial city of Monterrey.